后端开发规范（通用版）
1. 架构与模块化

分层架构：严格区分

Controller（接口入口）

Service（业务逻辑）

Repository / DAO（数据库访问层）

Model / Entity（数据对象定义）

模块划分：每个功能单元必须是独立模块，避免交叉依赖。

禁止：Controller 直接操作数据库。

2. 接口设计规范

统一返回结构：

{
  "code": 0,
  "message": "success",
  "data": {...}
}


错误码定义：

0 成功

400 参数错误

401 未授权

500 系统异常

RESTful 风格：

GET /api/users/:id → 查询

POST /api/users → 新建

PUT /api/users/:id → 修改

DELETE /api/users/:id → 删除

3. 数据库规范

命名规则：

表名小写 + 下划线（user_account）

字段小写 + 下划线（created_at）

必须字段：

id 主键（自增或 UUID）

created_at 创建时间

updated_at 更新时间

is_deleted 逻辑删除（0/1）

禁止：直接写死业务逻辑在 SQL 里。

4. 代码规范

统一语言特性：

Node.js → ESM import/export，禁止混用 require

Java → Spring Boot，遵守 @Service, @Repository, @Controller 分层

日志要求：

info：正常流程

warn：业务异常

error：系统错误（必须带 stack trace）

异常处理：必须捕获，返回统一格式。

5. 安全与性能

输入校验：所有 API 入口参数必须校验（如 Joi / Hibernate Validator）。

鉴权：统一 Token / Session 验证。

SQL 注入防护：禁止拼接 SQL，必须用参数化查询。

缓存机制：热点数据加 Redis，避免频繁 DB 查询。

接口限流：高并发接口加限流（如令牌桶 / Nginx 限流）。

6. 开发与协作

代码提交：必须走 PR / MR，不允许直接推主分支。

单元测试：核心模块 ≥ 70% 覆盖率。

接口文档：自动化生成（如 Swagger / Apidoc），前后端对齐。

版本管理：遵循 SemVer，发布打 Tag。

7. 开发架构规则：

所有数据获取逻辑必须集中到一个公共模块中。

每个页面的后端代码只能包含自己特有的业务逻辑。

一个页面的修改绝不能影响其他页面。